<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<object-views xmlns="http://axelor.com/xml/ns/object-views"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://axelor.com/xml/ns/object-views http://axelor.com/xml/ns/object-views/object-views_5.0.xsd">

    <grid name="time-card-line-grid" title="Lignes de pointage" model="com.axelor.apps.timecard.db.TimeCardLine" orderBy="startDateTime">
        <field name="project" readonlyIf="typeSelect == 'contractual'"/>
        <field name="weekDay" readonlyIf="typeSelect == 'contractual'"/>
        <field name="date" readonlyIf="typeSelect == 'contractual'"/>
        <field name="startTime" readonlyIf="typeSelect == 'contractual'"/>
        <field name="endTime" readonlyIf="typeSelect == 'contractual'"/>
        <field name="typeSelect" readonlyIf="typeSelect == 'contractual'"/>

        <!-- used for sorting -->
        <field name="startDateTime" hidden="true"/>
    </grid>

    <form name="time-card-line-form" title="Ligne de pointage" model="com.axelor.apps.timecard.db.TimeCardLine" width="large">
        <panel readonlyIf="typeSelect == 'contractual'">
            <field name="typeSelect" selection-in="['extra', 'absence']" colSpan="12"/>
            <field name="project"/>
            <field name="employee"/>
            <field name="product"/>
            <spacer/>
            <field name="weekDay" colSpan="3"/>
            <field name="date" colSpan="3"/>
            <field name="startTime" colSpan="3"/>
            <field name="endTime" colSpan="3"/>
            <field name="duration"/>
            <field name="leaveLine" hidden="true" showIf="leaveLine &amp;&amp; typeSelect == 'absence'" readonly="true"/>
            <field name="comments" colSpan="12"/>
        </panel>
    </form>

    <calendar name="time-card-line-calendar" title="Pointage" model="com.axelor.apps.timecard.db.TimeCardLine"
              eventStart="startDateTime" eventStop="endDateTime" colorBy="typeSelect" editable="true">
        <field name="project"/>
        <field name="typeSelect"/>
    </calendar>

</object-views>
